From 9ed7fadaeea22d5c1b32f5ba7840f188c3c903f6 Mon Sep 17 00:00:00 2001
From: Olof Andersson <olof.andersson@gmail.com>
Date: Wed, 22 Jul 2015 20:58:24 +0200
Subject: [PATCH] modified newlib

---
 config.sub                   | 2 +-
 newlib/configure.host        | 3 +++
 newlib/libc/sys/configure.in | 1 +
 3 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/config.sub b/config.sub
index 7ffe373..6ad5793 100755
--- a/config.sub
+++ b/config.sub
@@ -1373,7 +1373,7 @@ case $os in
 	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -auroraux* | -solaris* \
 	      | -sym* | -kopensolaris* | -plan9* \
 	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
-	      | -aos* | -aros* \
+	      | -aos* | -aros* | -ost* \
 	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
 	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
 	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \
diff --git a/newlib/configure.host b/newlib/configure.host
index c4773d9..48f54c7 100644
--- a/newlib/configure.host
+++ b/newlib/configure.host
@@ -369,6 +369,9 @@ esac
 # THIS TABLE IS ALPHA SORTED.  KEEP IT THAT WAY.
 
 case "${host}" in
+  i[3-7]86-*-ost*)
+    sys_dir=ost
+    ;;
   *-*-cygwin*)
 	posix_dir=posix
 	stdio64_dir=stdio64
diff --git a/newlib/libc/sys/configure.in b/newlib/libc/sys/configure.in
index d388bb8..e964366 100644
--- a/newlib/libc/sys/configure.in
+++ b/newlib/libc/sys/configure.in
@@ -22,6 +22,7 @@ fi
 
 if test -n "${sys_dir}"; then
   case ${sys_dir} in
+	ost) AC_CONFIG_SUBDIRS(ost) ;;
 	a29khif) AC_CONFIG_SUBDIRS(a29khif) ;;
 	arc) AC_CONFIG_SUBDIRS(arc) ;;
 	arm) AC_CONFIG_SUBDIRS(arm) ;;
-- 
2.1.4

